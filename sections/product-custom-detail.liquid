{% comment %}
Custom Product Detail Page Template
File: product-custom-detail.liquid
{% endcomment %}

<div class="custom-product-page container">
  <div class="product-main grid grid-cols-1 md:grid-cols-2 gap-8">
    
    <!-- Left: Product Images -->
    <div class="product-gallery">
      {% if product.images.size > 0 %}
        <div class="main-image mb-4">
          <img id="MainProductImage" src="{{ product.featured_image | img_url: '600x600' }}" alt="{{ product.title }}">
        </div>
        <div class="thumbnail-images flex gap-2">
          {% for image in product.images %}
            <img 
              src="{{ image | img_url: '100x100' }}" 
              alt="{{ product.title }}" 
              class="thumbnail cursor-pointer border rounded"
              onclick="document.getElementById('MainProductImage').src=this.src"
            >
          {% endfor %}
        </div>
      {% endif %}
    </div>

    <!-- Right: Product Info -->
    <div class="product-info">
      <h1 class="text-2xl font-bold">{{ product.title }}</h1>
      <p class="text-lg font-semibold mt-2 text-red-600">
        {{ product.price | money }}
      </p>

      <!-- Reviews -->
      <div class="reviews mt-2">
        ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê ({{ product.metafields.custom.reviews_count | default: 12 }}) Reviews
      </div>

      <!-- Stock Info -->
      <p class="text-sm text-gray-500 mt-1">
        {% if product.available %} ‚úÖ In Stock {% else %} ‚ùå Out of Stock {% endif %}
      </p>

      <!-- Variant Selector -->
      {% if product.variants.size > 1 %}
        <form method="post" action="/cart/add" id="add-to-cart-form">
          <select name="id" id="ProductSelect" class="border p-2 rounded w-full mt-4">
            {% for variant in product.variants %}
              <option value="{{ variant.id }}">
                {{ variant.title }} - {{ variant.price | money }}
              </option>
            {% endfor %}
          </select>
          <button type="submit" class="bg-black text-white px-6 py-2 mt-4 rounded">Add to Cart</button>
        </form>
      {% else %}
        <form method="post" action="/cart/add">
          <input type="hidden" name="id" value="{{ product.variants.first.id }}">
          <button type="submit" class="bg-black text-white px-6 py-2 mt-4 rounded">Add to Cart</button>
        </form>
      {% endif %}

      <!-- Buy Now Button -->
      <button class="bg-gray-900 text-white px-6 py-2 mt-2 rounded w-full">Buy Now</button>

      <!-- USP Icons -->
      <div class="usp flex gap-6 mt-6">
        <div>‚≠ê 5 Star Rated</div>
        <div>üöö Free Delivery</div>
        <div>üî• Best Seller</div>
      </div>
    </div>
  </div>

  <!-- Tabs Section -->
  <div class="tabs mt-12 border-t pt-6">
    <h2 class="text-xl font-semibold mb-4">Product Details</h2>
    <div>
      <details class="mb-4">
        <summary class="cursor-pointer font-medium">Ingredients</summary>
        <p class="mt-2 text-gray-700">{{ product.metafields.custom.ingredients | default: "Ingredients info here..." }}</p>
      </details>

      <details>
        <summary class="cursor-pointer font-medium">Directions for Use</summary>
        <p class="mt-2 text-gray-700">{{ product.metafields.custom.usage | default: "Usage instructions here..." }}</p>
      </details>
    </div>
  </div>

  <!-- Reviews Section -->
  <div class="reviews-section mt-12">
    <h2 class="text-xl font-semibold">Customer Reviews</h2>
    <div class="rating-summary flex items-center gap-4 mt-2">
      <span class="text-3xl font-bold">5.0</span>
      <span>({{ product.metafields.custom.reviews_count | default: 12 }} Reviews)</span>
    </div>

    <!-- Example Review -->
    <div class="review mt-6 border-b pb-4">
      <p class="font-semibold">‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê</p>
      <p class="text-gray-700 mt-2">"Amazing product! My skin never looked better. Totally recommend."</p>
      <p class="text-sm text-gray-500 mt-1">- Verified Buyer</p>
    </div>
  </div>
</div>
